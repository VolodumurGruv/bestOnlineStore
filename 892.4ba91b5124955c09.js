"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[892],{7403:(E,h,t)=>{t.d(h,{N:()=>_});var e=t(9862),s=t(4946),u=t(347),x=t(4009),l=t(6879),c=t(9397),g=t(6306);let _=(()=>{var a;class y{constructor(){this.http=(0,s.f3M)(e.eN),this.handleError=(0,s.f3M)(x.G),this.alertService=(0,s.f3M)(l.c)}getCart(){return this.http.get(`${u.rH.URL}/cart/get-cart`)}makeOrder(d,C=1){return this.http.post(`${u.rH.URL}/cart/add-to-cart`,{productId:d,quantity:C}).pipe((0,c.b)(O=>{0===C?this.alertService.warning("\u0422\u043e\u0432\u0430\u0440 \u0431\u0443\u043b\u043e \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043e"):O&&this.alertService.success("\u0422\u043e\u0432\u0430\u0440 \u0434\u043e\u0434\u0430\u043d\u043e \u0434\u043e \u043a\u043e\u0448\u0438\u043a\u0430 \u0443\u0441\u043f\u0456\u0448\u043d\u043e!")}),(0,g.K)(this.handleError.handleError("\u0412\u0438\u043d\u0438\u043a\u043b\u0430 \u043f\u043e\u043c\u0438\u043b\u043a\u0430")))}}return(a=y).\u0275fac=function(d){return new(d||a)},a.\u0275prov=s.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),y})()},2892:(E,h,t)=>{t.r(h),t.d(h,{OrderComponent:()=>D});var e=t(4946),s=t(6814),u=t(7394),x=t(7398),l=t(9397),c=t(6223),g=t(8493),_=t(7403),a=t(8980),y=t(2476);const v=["*","*"],d=function(n){return{label__disabled:n}};let C=(()=>{var n;class p{constructor(){this.disabled=!1,this.checkbox=new e.vpe,this.isChecked=!1,this.checked="on"}onClick(){"on"===this.checked?(this.isChecked=!0,this.checked="off",this.checkbox.emit(this.isChecked)):"off"===this.checked&&(this.isChecked=!1,this.checked="on",this.checkbox.emit(this.isChecked))}}return(n=p).\u0275fac=function(i){return new(i||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["input-checkbox"]],inputs:{disabled:"disabled"},outputs:{checkbox:"checkbox"},standalone:!0,features:[e.jDz],ngContentSelectors:v,decls:4,vars:4,consts:[[1,"label",3,"ngClass"],["type","checkbox",3,"disabled","click"]],template:function(i,o){1&i&&(e.F$t(v),e.TgZ(0,"label",0)(1,"input",1),e.NdJ("click",function(){return o.onClick()}),e.qZA(),e.Hsn(2,0,["#title",""]),e.Hsn(3,1,["#logo",""]),e.qZA()),2&i&&(e.Q6J("ngClass",e.VKq(2,d,o.disabled)),e.xp6(1),e.Q6J("disabled",o.disabled))},dependencies:[s.mk],styles:['@import"https://fonts.googleapis.com/css2?family=Inter:wght@900&family=Roboto:ital,wght@0,400;0,500;1,300&family=Satisfy&family=Titan+One&display=swap";@import"https://fonts.googleapis.com/css2?family=Inter:wght@900&family=Manrope&family=Roboto:ital,wght@0,400;0,500;1,300&family=Satisfy&family=Titan+One&display=swap";@import"https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500&display=swap";.label[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:28px;font-weight:500;font-style:normal;line-height:normal;display:flex;align-items:center;justify-content:center;gap:24px;color:#05020e}.label__disabled[_ngcontent-%COMP%]{color:#949494}input[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;background-color:#fafafa;margin:0;font:inherit;color:currentColor;width:1.3em;height:1.3em;border:.04em solid currentColor;border-radius:.07em;display:flex;align-items:center;justify-content:center}input[type=checkbox][_ngcontent-%COMP%]:before{content:"";width:.86em;height:.86em;transform:scale(0);transition:.12s transform ease-in-out;box-shadow:inset 1em 1em #05020e}input[type=checkbox][_ngcontent-%COMP%]:checked:before{transform:scale(1)}input[type=checkbox][_ngcontent-%COMP%]:disabled{color:#949494}']}),p})();const O=[{id:1,name:"\u0421\u0430\u043c\u043e\u0432\u0438\u0432\u0456\u0437 \u0437 \u041d\u043e\u0432\u043e\u0457 \u041f\u043e\u0448\u0442\u0438",logoUrl:"./assets/pics/png/delivery/logochat.png",isChecked:!1},{id:2,name:"\u0421\u0430\u043c\u043e\u0432\u0438\u0432\u0456\u0437 \u0437 \u0423\u041a\u0420\u041f\u041e\u0428\u0422\u0418",logoUrl:"./assets/pics/png/delivery/logoposhta.png",isChecked:!1},{id:3,name:"\u041a\u0443\u0440\u2019\u0454\u0440\u0441\u044c\u043a\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u0432\u0456\u0434 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0443 (\u0442\u0456\u043b\u044c\u043a\u0438 \u043f\u043e \u043c.\u041a\u0438\u0457\u0432)",price:700,isChecked:!1},{id:4,name:"\u0421\u0430\u043c\u043e\u0432\u0438\u0432\u0456\u0437 \u0437 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0443 ( \u043c. \u041a\u0438\u0457\u0432, \u0432\u0443\u043b. \u0421\u0430\u043a\u0441\u0430\u0433\u0430\u043d\u0441\u044c\u043a\u043e\u0433\u043e, 121 )",isChecked:!1}];function b(n,p){if(1&n&&(e.TgZ(0,"div",5)(1,"div",11)(2,"span",12),e._uU(3,"\u0406\u043c\u2019\u044f: "),e.qZA(),e.TgZ(4,"span",13),e._uU(5),e.qZA()(),e.TgZ(6,"div",11)(7,"span",12),e._uU(8,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d: "),e.qZA(),e.TgZ(9,"span",13),e._uU(10),e.qZA()()()),2&n){const r=e.oxw();e.xp6(5),e.Oqu(r.user.firstName),e.xp6(5),e.Oqu(r.user.phone)}}function T(n,p){if(1&n&&(e.TgZ(0,"div",11)(1,"span",12),e._uU(2,"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435: "),e.qZA(),e.TgZ(3,"span",13),e._uU(4),e.qZA()()),2&n){const r=e.oxw();e.xp6(4),e.Oqu(r.user.lastName)}}function Z(n,p){if(1&n&&(e.TgZ(0,"div",11)(1,"span",12),e._uU(2,"E-mail: "),e.qZA(),e.TgZ(3,"span",13),e._uU(4),e.qZA()()),2&n){const r=e.oxw();e.xp6(4),e.Oqu(r.user.email)}}const P=function(){return{width:"26px",height:"27px"}};function U(n,p){if(1&n){const r=e.EpF();e.TgZ(0,"div",14)(1,"div",15),e._UZ(2,"img",16),e.qZA(),e.TgZ(3,"div",17)(4,"div",18)(5,"p",19),e._uU(6),e.qZA(),e.TgZ(7,"div",20)(8,"span",21),e.NdJ("click",function(){const m=e.CHM(r).$implicit,f=e.MAs(11),M=e.oxw();return e.KtG(M.decrease(m.product,+f.value))}),e._UZ(9,"app-icon",22),e.qZA(),e.TgZ(10,"input",23,24),e.NdJ("ngModelChange",function(o){const f=e.CHM(r).$implicit;return e.KtG(f.quantity=o)}),e.qZA(),e.TgZ(12,"span",25),e.NdJ("click",function(){const m=e.CHM(r).$implicit,f=e.MAs(11),M=e.oxw();return e.KtG(M.increase(m.product,+f.value))}),e._UZ(13,"app-icon",22),e.qZA()()(),e.TgZ(14,"div",26)(15,"p",27),e._uU(16),e.ALo(17,"transformPrice"),e.qZA()()()()}if(2&n){const r=p.$implicit,i=e.oxw();e.xp6(2),e.Q6J("src",r.image,e.LSH)("alt",r.name),e.xp6(4),e.Oqu(r.name),e.xp6(3),e.Q6J("path","minus")("size",e.DdM(17,P))("viewBox","0 0 26 27")("fill","none"),e.xp6(1),e.Q6J("min",i.minQuantity)("max",i.maxQuantity)("ngModel",r.quantity),e.xp6(3),e.Q6J("path","increase")("size",e.DdM(18,P))("viewBox","0 0 26 27")("fill","none"),e.xp6(3),e.hij(" ",e.lcZ(17,15,r.price*r.quantity)," ")}}function k(n,p){if(1&n&&(e.TgZ(0,"span",33),e._uU(1),e.qZA()),2&n){const r=e.oxw().$implicit;e.xp6(1),e.hij(" ",r.name," ")}}function w(n,p){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const r=e.oxw().$implicit;e.xp6(1),e.Oqu(r.price)}}function A(n,p){if(1&n){const r=e.EpF();e.TgZ(0,"div",28)(1,"div")(2,"input-checkbox",29),e.NdJ("checkbox",function(o){const f=e.CHM(r).index,M=e.oxw();return e.KtG(M.onCheckBox(o,f))}),e.TgZ(3,"span",30),e._uU(4),e.qZA(),e.YNc(5,k,2,1,"span",31),e.qZA(),e.YNc(6,w,2,1,"span",32),e.qZA()()}if(2&n){const r=p.$implicit;e.xp6(2),e.Q6J("disabled",r.isChecked),e.xp6(2),e.hij(" ",r.name," "),e.xp6(1),e.Q6J("ngIf",r.logoUrl),e.xp6(1),e.Q6J("ngIf",r.price)}}let D=(()=>{var n;class p{constructor(){this.userService=(0,e.f3M)(g.K),this.cartService=(0,e.f3M)(_.N),this.unSub=new u.w0,this.minQuantity=1,this.maxQuantity=100,this.deliveryData=O}ngOnInit(){const i=JSON.parse(localStorage.getItem("user"));this.user=i,this.userService.getUserById(i._id).subscribe(o=>console.log(o._id)),this.cartService.getCart().pipe((0,x.U)(o=>{console.log(o),this.total=o.payload.totalPrice,this.orders=o.payload.items.filter(m=>m.quantity)})).subscribe()}increase(i,o){i&&o&&this.unSub.add(this.cartService.makeOrder(i,o+1).pipe((0,l.b)(()=>{this.getCartOrders()})).subscribe())}decrease(i,o){i&&o&&this.unSub.add(this.cartService.makeOrder(i,o-1).pipe((0,l.b)(()=>{this.getCartOrders()})).subscribe())}getCartOrders(){this.unSub.add(this.cartService.getCart().pipe((0,x.U)(i=>{this.total=i.payload.totalPrice,this.orders=i.payload.items.filter(o=>o.quantity)})).subscribe())}onCheckBox(i,o){this.deliveryData.forEach((m,f)=>{o!==f&&(this.deliveryData[f].isChecked=i)})}}return(n=p).\u0275fac=function(i){return new(i||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-order"]],standalone:!0,features:[e.jDz],decls:18,vars:5,consts:[[1,"order"],[1,"order__title"],[1,"order__subtitle"],[1,"order__user-info"],["class","order__user-info__items",4,"ngIf"],[1,"order__user-info__items"],["class","order__user-info__name",4,"ngIf"],[1,"order__order"],["class","order__order__items",4,"ngFor","ngForOf"],[1,"delivery"],["class","delivery__items",4,"ngFor","ngForOf"],[1,"order__user-info__name"],[1,"order__user-info__item"],[1,"order__user-info__data"],[1,"order__order__items"],[1,"order__order__image"],[3,"src","alt"],[1,"items__elem"],[1,"group__count"],[1,"order__order__name"],[1,"order__order__count"],[1,"decrease",3,"click"],[3,"path","size","viewBox","fill"],["type","number","disabled","",1,"order__input",3,"min","max","ngModel","ngModelChange"],["quantity",""],[1,"increase",3,"click"],[1,"group__price"],[1,"order__order__price"],[1,"delivery__items"],[3,"disabled","checkbox"],["title",""],["logo","",4,"ngIf"],[4,"ngIf"],["logo",""]],template:function(i,o){1&i&&(e.TgZ(0,"section",0)(1,"h1",1),e._uU(2,"\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"),e.qZA(),e.TgZ(3,"h2",2),e._uU(4,"\u041e\u0441\u043e\u0431\u0438\u0441\u0442\u0430 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f"),e.qZA(),e.TgZ(5,"div",3),e.YNc(6,b,11,2,"div",4),e.TgZ(7,"div",5),e.YNc(8,T,5,1,"div",6),e.YNc(9,Z,5,1,"div",6),e.qZA()(),e.TgZ(10,"div",7)(11,"h2",2),e._uU(12,"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"),e.qZA(),e.YNc(13,U,18,19,"div",8),e.qZA(),e.TgZ(14,"div",9)(15,"h2",2),e._uU(16,"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430"),e.qZA(),e.YNc(17,A,7,4,"div",10),e.qZA()()),2&i&&(e.xp6(6),e.Q6J("ngIf",o.user.firstName),e.xp6(2),e.Q6J("ngIf",o.user.lastName),e.xp6(1),e.Q6J("ngIf",o.user.email),e.xp6(4),e.Q6J("ngForOf",o.orders),e.xp6(4),e.Q6J("ngForOf",o.deliveryData))},dependencies:[s.ez,s.sg,s.O5,a.s,y.o,c.u5,c.Fj,c.wV,c.JJ,c.qQ,c.Fd,c.On,C],styles:['@import"https://fonts.googleapis.com/css2?family=Inter:wght@900&family=Roboto:ital,wght@0,400;0,500;1,300&family=Satisfy&family=Titan+One&display=swap";@import"https://fonts.googleapis.com/css2?family=Inter:wght@900&family=Manrope&family=Roboto:ital,wght@0,400;0,500;1,300&family=Satisfy&family=Titan+One&display=swap";@import"https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500&display=swap";@charset "UTF-8";.order[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.order__title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:34px;font-weight:500;font-style:normal;line-height:normal;margin-bottom:24px;margin-top:80px;color:#000}.order__subtitle[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:32px;font-weight:500;font-style:normal;line-height:normal;margin-bottom:56px;color:#05020e}.order__user-info[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:78px;width:1316px;gap:534px}.order__user-info__items[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:24px}.order__user-info__item[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:28px;font-weight:500;font-style:normal;line-height:normal;color:#05020e}.order__user-info__data[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:24px;font-weight:400;font-style:normal;line-height:130%;color:#05020e}.order__order[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:1316px;gap:56px;flex-shrink:0}.order__order__items[_ngcontent-%COMP%]{display:flex;width:1316px;padding:16px 20px;align-items:center;gap:20px;border-radius:8px;border:1px solid #949494}.order__order__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:220px;height:200px;flex-shrink:0}.order__order__count[_ngcontent-%COMP%]{display:flex;width:48px;height:32px;padding:8px;justify-content:center;align-items:center;gap:8px}.order__order__name[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:20px;font-weight:400;font-style:normal;line-height:130%;width:400px;color:#05020e}.order__order__price[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:20px;font-weight:400;font-style:normal;line-height:130%;width:100%;color:#000}.order__input[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:20px;font-weight:400;font-style:normal;line-height:130%;color:#000;width:56px;padding:8px;text-align:center;outline:none;border-radius:2px;border:1px solid #949494;background:#fafafa}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.increase[_ngcontent-%COMP%], .decrease[_ngcontent-%COMP%]{cursor:pointer}.items__elem[_ngcontent-%COMP%]{display:flex;align-items:flex-start;width:100%;gap:176px}.items[_ngcontent-%COMP%]{display:flex}.group__count[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:253px}.group__price[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:0}.delivery[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;align-items:center;gap:56px;margin-top:80px}.delivery__items[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:36px}']}),p})()},8493:(E,h,t)=>{t.d(h,{K:()=>_});var e=t(9862),s=t(4946),u=t(347),x=t(4009),l=t(7398),c=t(6306),g=t(9397);let _=(()=>{var a;class y{constructor(){this.http=(0,s.f3M)(e.eN),this.httpErrorHandler=(0,s.f3M)(x.G)}getUsers(){return this.http.get(`${u.rH.URL}/user`).pipe((0,l.U)(d=>d.payload),(0,c.K)(this.httpErrorHandler.handleError("\u041d\u0435\u0432\u0434\u0430\u043b\u043e\u0441\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432!")))}getUserById(d){return this.http.get(`${u.rH.URL}/user/${d}`).pipe((0,l.U)(C=>C.payload),(0,c.K)(this.httpErrorHandler.handleError("\u041d\u0435\u0432\u0434\u0430\u043b\u043e\u0441\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430!")))}updateUser(d){return this.http.put(`${u.rH.URL}/user/profile`,d).pipe((0,g.b)(C=>{const O=C.payload.user;O.token=JSON.parse(localStorage.getItem("user")).token,localStorage.setItem("user",JSON.stringify(O))}),(0,c.K)(this.httpErrorHandler.handleError("\u041d\u0435\u0432\u0434\u0430\u043b\u043e\u0441\u044f \u043e\u043d\u043e\u0432\u0438\u0442\u0438 \u0434\u0430\u043d\u0456!")))}}return(a=y).\u0275fac=function(d){return new(d||a)},a.\u0275prov=s.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),y})()},2476:(E,h,t)=>{t.d(h,{o:()=>x});var e=t(6814),s=t(4946);const u=function(l){return{fill:l}};let x=(()=>{var l;class c{constructor(){this.path="",this.viewBox="",this.fill=""}ngOnInit(){this.link=`assets/pics/svg/${this.path}.svg#${this.path}`}}return(l=c).\u0275fac=function(_){return new(_||l)},l.\u0275cmp=s.Xpm({type:l,selectors:[["app-icon"]],hostVars:2,hostBindings:function(_,a){2&_&&s.Udp("-webkit-mask-image",a.link)},inputs:{path:"path",size:"size",viewBox:"viewBox",fill:"fill",i:"i",rating:"rating"},standalone:!0,features:[s.jDz],decls:3,vars:7,consts:[["xmlns","http://www.w3.org/2000/svg","fill","none"],["points","8,10 5,5 23,70 16,12 28,2",3,"ngStyle"]],template:function(_,a){1&_&&(s.O4$(),s.TgZ(0,"svg",0),s._UZ(1,"polygon",1)(2,"use"),s.qZA()),2&_&&(s.Akn(a.size),s.xp6(1),s.Q6J("ngStyle",s.VKq(5,u,a.i<a.rating?"yellow":"none")),s.xp6(1),s.uIk("href",a.link,null,"xlink")("href",a.link))},dependencies:[e.ez,e.PC],styles:["svg[_ngcontent-%COMP%]{width:inherit;height:inherit}"]}),c})()}}]);