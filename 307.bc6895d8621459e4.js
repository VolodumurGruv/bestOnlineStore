"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[307],{6307:(P,p,o)=>{o.r(p),o.d(p,{ProductComponent:()=>g});var t=o(4946),u=o(6814),a=o(180),_=o(4664),s=o(7875),h=o(2239),f=o(6879);const d=function(r){return["/admin/products/edit/",r]};function l(r,n){if(1&r){const e=t.EpF();t.ynx(0),t._UZ(1,"app-product-card",2),t.TgZ(2,"div",3)(3,"div",4),t._uU(4," \u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 "),t.qZA(),t.TgZ(5,"div",5)(6,"input",6,7),t.NdJ("change",function(i){const E=t.CHM(e).ngIf,M=t.oxw();return t.KtG(M.uploadImage(i,E._id))}),t.qZA(),t.TgZ(8,"button",8),t.NdJ("click",function(){t.CHM(e);const i=t.MAs(7);return t.KtG(i.click())}),t._uU(9,"Upload"),t.qZA()(),t.TgZ(10,"div",9),t._uU(11," \u041d\u0430\u0437\u0430\u0434 \u0434\u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0456\u0457 "),t.qZA()(),t.BQk()}if(2&r){const e=n.ngIf;t.xp6(1),t.Q6J("product",e),t.xp6(2),t.Q6J("routerLink",t.VKq(4,d,e._id)),t.xp6(3),t.Udp("display","none")}}let g=(()=>{var r;class n{constructor(){this.productService=(0,t.f3M)(h.s),this.route=(0,t.f3M)(a.gz),this.alertService=(0,t.f3M)(f.c)}ngOnInit(){this.product$=this.route.paramMap.pipe((0,_.w)(c=>this.productService.getProductById(c.get("id"))))}uploadImage(c,i){const m=c.target.files[0];i&&m&&this.productService.uploadImageProduct(m,i).subscribe(()=>{this.alertService.success("\u0417\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0434\u043e\u0434\u0430\u043d\u0435")})}}return(r=n).\u0275fac=function(c){return new(c||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-product"]],standalone:!0,features:[t.jDz],decls:3,vars:3,consts:[[1,"product"],[4,"ngIf"],[1,"product__card",3,"product"],[1,"action"],[1,"btn","btn__add",3,"routerLink"],[1,"input-wrap"],["type","file",3,"change"],["upload",""],[1,"btn","btn__add",3,"click"],["routerLink","/admin/products",1,"btn","btn__add"]],template:function(c,i){1&c&&(t.TgZ(0,"section",0),t.YNc(1,l,12,6,"ng-container",1),t.ALo(2,"async"),t.qZA()),2&c&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,i.product$)))},dependencies:[u.ez,u.O5,u.Ov,a.rH,s.Y],styles:['@import"https://fonts.googleapis.com/css2?family=Inter:wght@900&family=Roboto:ital,wght@0,400;0,500;1,300&family=Satisfy&family=Titan+One&display=swap";@import"https://fonts.googleapis.com/css2?family=Inter:wght@900&family=Manrope&family=Roboto:ital,wght@0,400;0,500;1,300&family=Satisfy&family=Titan+One&display=swap";@import"https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500&display=swap";.link[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:20px;font-weight:400;font-style:normal;line-height:130%;text-decoration:none;padding:5px;color:#000}.link[_ngcontent-%COMP%]:hover{border-radius:none;border-top:2px solid #000;border-bottom:2px solid #000}.action[_ngcontent-%COMP%]{display:flex;justify-content:space-around;padding-top:2rem;width:50%}.product[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;margin-top:4rem}']}),n})()},2239:(P,p,o)=>{o.d(p,{s:()=>f});var t=o(4946),u=o(9862),a=o(347),_=o(7398),s=o(6306),h=o(4009);let f=(()=>{var d;class l{constructor(){this.http=(0,t.f3M)(u.eN),this.errorHandler=(0,t.f3M)(h.G)}getProducts(r=1){return this.http.get(`${a.rH.URL}/product?page=${r}`).pipe((0,_.U)(n=>n.payload?.products),(0,s.K)(this.errorHandler.handleError("\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0434\u0430\u043d\u0456!")))}getProductById(r){return this.http.get(`${a.rH.URL}/product/${r}`).pipe((0,_.U)(n=>(console.log(n),n.payload)),(0,s.K)(this.errorHandler.handleError("\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0434\u0430\u043d\u0456!")))}getByName(){this.http.get(`${a.rH.URL}/product/search`).pipe((0,s.K)(this.errorHandler.handleError("\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0434\u0430\u043d\u0456!")))}createProduct(r){return this.http.post(`${a.rH.URL}/product`,r).pipe((0,s.K)(this.errorHandler.handleError("\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0434\u0430\u043d\u0456!")))}updateProduct(r,n){return this.http.put(`${a.rH.URL}/product/${n}`,r).pipe((0,s.K)(this.errorHandler.handleError("\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0434\u0430\u043d\u0456!")))}uploadImageProduct(r,n){const e=new FormData;return e.append("file",r),e.append("productId",n),this.http.post(`${a.rH.URL}/upload`,e).pipe((0,s.K)(this.errorHandler.handleError("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f")))}deleteProduct(r){return this.http.delete(`${a.rH.URL}/product/${r}`).pipe((0,s.K)(this.errorHandler.handleError("\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0434\u0430\u043d\u0456!")))}}return(d=l).\u0275fac=function(r){return new(r||d)},d.\u0275prov=t.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),l})()}}]);