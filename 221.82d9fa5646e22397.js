"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[221],{1221:(E,l,e)=>{e.r(l),e.d(l,{SalesComponent:()=>c});var r=e(4946),_=e(6814),s=e(7875),u=e(2239),a=e(7398);function i(o,d){if(1&o&&(r.TgZ(0,"div"),r._UZ(1,"app-product-card",3),r.qZA()),2&o){const t=d.$implicit;r.xp6(1),r.Q6J("product",t)}}function h(o,d){if(1&o&&(r.ynx(0),r.YNc(1,i,2,1,"div",2),r.BQk()),2&o){const t=d.ngIf;r.xp6(1),r.Q6J("ngForOf",t)}}let c=(()=>{var o;class d{constructor(){this.productService=(0,r.f3M)(u.s)}ngOnInit(){this.products$=this.productService.getProducts().pipe((0,a.U)(n=>n.filter(p=>p.discount>0)))}}return(o=d).\u0275fac=function(n){return new(n||o)},o.\u0275cmp=r.Xpm({type:o,selectors:[["app-sales"]],standalone:!0,features:[r.jDz],decls:3,vars:3,consts:[[1,"sales"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"product"]],template:function(n,p){1&n&&(r.TgZ(0,"section",0),r.YNc(1,h,2,1,"ng-container",1),r.ALo(2,"async"),r.qZA()),2&n&&(r.xp6(1),r.Q6J("ngIf",r.lcZ(2,1,p.products$)))},dependencies:[_.ez,_.sg,_.O5,_.Ov,s.Y],styles:[".sales[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:80px}"]}),d})()},2239:(E,l,e)=>{e.d(l,{s:()=>h});var r=e(4946),_=e(9862),s=e(347),u=e(7398),a=e(6306),i=e(4009);let h=(()=>{var c;class o{constructor(){this.http=(0,r.f3M)(_.eN),this.errorHandler=(0,r.f3M)(i.G)}getProducts(){return this.http.get(`${s.rH.URL}/product?perPage=200`).pipe((0,u.U)(t=>t.payload?.products),(0,a.K)(this.errorHandler.handleError("\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0434\u0430\u043d\u0456!")))}getProductById(t){return this.http.get(`${s.rH.URL}/product/${t}`).pipe((0,u.U)(n=>(console.log(n),n.payload)),(0,a.K)(this.errorHandler.handleError("\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0434\u0430\u043d\u0456!")))}getByName(){this.http.get(`${s.rH.URL}/product/search`).pipe((0,a.K)(this.errorHandler.handleError("\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0434\u0430\u043d\u0456!")))}createProduct(t){return this.http.post(`${s.rH.URL}/product`,t).pipe((0,a.K)(this.errorHandler.handleError("\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0434\u0430\u043d\u0456!")))}updateProduct(t,n){return this.http.put(`${s.rH.URL}/product/${n}`,t).pipe((0,a.K)(this.errorHandler.handleError("\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0434\u0430\u043d\u0456!")))}uploadImageProduct(t,n){const p=new FormData;return p.append("file",t),p.append("productId",n),this.http.post(`${s.rH.URL}/upload`,p).pipe((0,a.K)(this.errorHandler.handleError("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f")))}deleteProduct(t){return this.http.delete(`${s.rH.URL}/product/${t}`).pipe((0,a.K)(this.errorHandler.handleError("\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0434\u0430\u043d\u0456!")))}}return(c=o).\u0275fac=function(t){return new(t||c)},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),o})()}}]);