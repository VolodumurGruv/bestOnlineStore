"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[293],{293:(g,c,e)=>{e.r(c),e.d(c,{OrdersComponent:()=>p});var t=e(4946),d=e(6814),a=e(8980),f=e(7957),l=e(7394),_=e(9397),h=e(4664);function s(n,r){if(1&n){const o=t.EpF();t.TgZ(0,"div",3),t._UZ(1,"img",4),t.TgZ(2,"div",5)(3,"div",6)(4,"div",7),t._uU(5),t.qZA(),t.TgZ(6,"div",8)(7,"p"),t._uU(8),t.ALo(9,"transformPrice"),t.qZA(),t.TgZ(10,"p",9),t._uU(11),t.ALo(12,"transformPrice"),t.qZA()()(),t.TgZ(13,"div",6)(14,"div",10),t._uU(15),t.qZA(),t.TgZ(16,"div",11),t.NdJ("click",function(){const m=t.CHM(o).$implicit,O=t.oxw();return t.KtG(O.completeAction(m._id))}),t._uU(17),t.qZA()()()()}if(2&n){const o=r.$implicit;t.xp6(1),t.Q6J("src",o.image,t.LSH),t.xp6(4),t.hij(" ",o.description," "),t.xp6(3),t.Oqu(t.lcZ(9,6,o.totalPrice)),t.xp6(3),t.Oqu(t.lcZ(12,8,null==o?null:o.discount)),t.xp6(4),t.hij("\u0421\u0442\u0430\u0442\u0443\u0441: ",o.status,""),t.xp6(2),t.hij(" ",o.isPaid?"\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u0438":"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"," ")}}let p=(()=>{var n;class r{constructor(){this.orderService=(0,t.f3M)(f.p),this.orders=[],this.unSub=new l.w0}ngOnInit(){this.unSub.add(this.orderService.getOrderHistory().pipe((0,_.b)(i=>{this.orders=i})).subscribe())}completeAction(i){this.unSub.add(this.orderService.deleteOrder(i).pipe((0,h.w)(()=>this.orderService.getOrderHistory().pipe((0,_.b)(u=>this.orders=u)))).subscribe())}ngOnDestroy(){this.unSub.unsubscribe()}}return(n=r).\u0275fac=function(i){return new(i||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-orders"]],standalone:!0,features:[t.jDz],decls:4,vars:1,consts:[[1,"orders"],[1,"orders__title"],["class","orders__items",4,"ngFor","ngForOf"],[1,"orders__items"],[1,"orders__item-img",3,"src"],[1,"orders__item"],[1,"orders__item-text"],[1,"description"],[1,"price"],[1,"discount"],[1,"state"],[1,"action",3,"click"]],template:function(i,u){1&i&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2,"\u041c\u043e\u0457 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"),t.qZA(),t.YNc(3,s,18,10,"div",2),t.qZA()),2&i&&(t.xp6(3),t.Q6J("ngForOf",u.orders))},dependencies:[d.ez,d.sg,a.s],styles:['@import"https://fonts.googleapis.com/css2?family=Inter:wght@900&family=Roboto:ital,wght@0,400;0,500;1,300&family=Satisfy&family=Titan+One&display=swap";@import"https://fonts.googleapis.com/css2?family=Inter:wght@900&family=Manrope&family=Roboto:ital,wght@0,400;0,500;1,300&family=Satisfy&family=Titan+One&display=swap";@import"https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500&display=swap";.orders[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:56px;width:829px}.orders__title[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:28px;font-weight:400;font-style:normal;line-height:130%;color:#000;text-align:center}.orders__items[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:flex-start;gap:20px}.orders__item-img[_ngcontent-%COMP%]{width:170px;height:122px;background-size:cover;background-repeat:no-repeat}.orders__item[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;gap:55px;width:639px;height:122px}.orders__item-text[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.description[_ngcontent-%COMP%], .action[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:18px;font-weight:400;font-style:normal;line-height:130%;color:#000}.action[_ngcontent-%COMP%]{cursor:pointer;text-decoration-line:underline}.state[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:18px;font-weight:500;font-style:normal;line-height:130%;color:#000}.price[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:20px;font-weight:400;font-style:normal;line-height:130%;color:#000}.discount[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:14px;font-weight:400;font-style:normal;line-height:130%;color:#000;text-decoration-line:line-through;color:#da3838}']}),r})()},7957:(g,c,e)=>{e.d(c,{p:()=>h});var t=e(9862),d=e(4946),a=e(347),f=e(4009),l=e(6306),_=e(7398);let h=(()=>{var s;class p{constructor(){this.http=(0,d.f3M)(t.eN),this.httpError=(0,d.f3M)(f.G)}getOrders(){return this.http.get(`${a.rH.URL}/order`).pipe((0,l.K)(this.httpError.handleError("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044c")))}makeOrder(r){return this.http.post(`${a.rH.URL}/order`,r).pipe((0,l.K)(this.httpError.handleError("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f")))}getOrderHistory(){return this.http.get(`${a.rH.URL}/order/order-history`).pipe((0,_.U)(r=>r.payload),(0,l.K)(this.httpError.handleError("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044c")))}deleteOrder(r){return this.http.delete(`${a.rH.URL}/order/${r}`)}getOrderById(r){}}return(s=p).\u0275fac=function(r){return new(r||s)},s.\u0275prov=d.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),p})()}}]);